*
  box-sizing: border-box

:root
  // prevent scrollbar flapping when zoomed
  overflow: hidden

body
  margin: 0

.Charming
  // better than 100vh on iOS
  position: absolute
  top: 0
  bottom: 0
  left: 0
  right: 0

  display: flex
  flex-direction: column
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica Neue LT Std, Helvetica Neue, Helvetica, sans-serif

  .Detail
    flex: 1 0 10em

  .Map
    flex: 1 0 10em

    &.measurer
      overflow-y: scroll


@media (min-width: 512px)
  .Charming
    flex-direction: row

    .Detail
      flex: 1 0 16em

    .Map
      flex: 3 0 16em

.Detail
  padding: 1em
  overflow: auto

  *
    margin-top: 0
    margin-bottom: 0

  * + *
    margin-top: 0.5em

  h1
    font-size: 1.5em

  .loading
    font-size: 13em
    text-align: center
    color: #C0C0C0

.Map
  $cell-size: 2.5rem

  a
    $glyph-size: 1.5rem
    $outline-size: 1px

    display: inline-block
    vertical-align: top
    width: $cell-size
    height: $cell-size

    font-size: $glyph-size
    line-height: $cell-size/$glyph-size
    text-align: center
    text-decoration: none
    color: black

    outline: $outline-size solid #C0C0C0
    outline-offset: -$outline-size/2
    overflow: hidden // Firefox

    &.active
      background: #C0C0C0

      > .synthetic
        color: #606060

    > .synthetic
      color: #A0A0A0

      &.diagonal
        font-size: 0.75rem
        font-family: monospace, monospace

        > span:first-child:nth-last-child(2)
          vertical-align: 0.25rem

          + span
            vertical-align: -0.25rem

        > span:first-child:nth-last-child(3)
          vertical-align: 0.5rem

          + span
            vertical-align: 0.125rem

            + span
              vertical-align: -0.25rem

        > span:first-child:nth-last-child(4)
          vertical-align: 0.625rem

          + span
            vertical-align: 0.25rem

            + span
              vertical-align: -0.125rem

              + span
                vertical-align: -0.5rem

        > span:first-child:nth-last-child(5)
          vertical-align: 0.625rem

          + span
            vertical-align: 0.375rem

            + span
              vertical-align: 0.125rem

              + span
                vertical-align: -0.125rem

                + span
                  vertical-align: -0.375rem
